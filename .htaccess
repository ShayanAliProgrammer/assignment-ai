RewriteEngine On

########################################
## üö´ Block sensitive files/folders
########################################
# Block vendor and node_modules (common sensitive dirs)
RewriteRule ^(?:node_modules|vendor)(?:/|$) - [R=404,L]

# Block env, git, config, and lock files
RewriteRule ^(?:\.git(?:ignore)?|\.env(?:\..*)?|\.env)$ - [R=404,L]
RewriteRule ^(?:composer\.json|package\.json|.*\.lock|.*\.md)$ - [R=404,L]

########################################
## üìú Serve sitemap or robots from PHP (optional)
########################################
RewriteRule ^(?:sitemap\.xml|robots\.txt)$ index.php [QSA,L]

########################################
## üîÅ Route all non-file/folder requests to index.php
########################################
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^.*$ index.php [QSA,L]
